# OpenTAKServer SSL Certificate Configuration
# Certificates are mounted from host at ./persistent/ots/ca to /app/ots/ca in container
# Certificate files are copied from local machine and placed in this directory

# CA certificate for client certificate verification (if ca.pem exists, otherwise use ca.cer)
ssl_client_certificate /app/ots/ca/letsencrypt_ca.pem;

# Server SSL certificate (Let's Encrypt wildcard certificate)
ssl_certificate /app/ots/ca/letsencrypt_fullchain.cer;
ssl_certificate_key /app/ots/ca/letsencrypt_privkey.key;

# SSL Protocol Configuration
ssl_protocols TLSv1.2 TLSv1.3;
ssl_prefer_server_ciphers on;
ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!3DES:!MD5:!PSK;

# SSL Session Configuration
# Note: ssl_session_cache may be defined elsewhere in nginx config
# ssl_session_cache shared:SSL:10m;
ssl_session_timeout 10m;

